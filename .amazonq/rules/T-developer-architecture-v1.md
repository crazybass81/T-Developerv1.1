# Tâ€‘Developer Architecture v1.1

## 1. System Philosophy

Tâ€‘Developer is designed based on the following philosophy:

> **SaaS is built from combinations of Tools, Agents, and Teams. Tâ€‘Developer is the orchestrator that assembles and executes them.**

All functionalities start from the smallest executable unit â€” the **Tool** â€” and are layered into **Agents** (with decision-making capability) and **Teams** (collaborative structures).

---

## 2. Component Definitions

### 2.1 Tool

* Pure functional units without decision logic
* Function-level execution
* Highly reusable

Examples: GPTCallerTool, S3UploaderTool

### 2.2 Agent

* A Tool with a single decision-making logic
* Responsible for a specific role
* High reusability (role-specific)

Examples: SummarizerAgent, SlackNotifierAgent

### 2.3 Team

* A collaborative structure composed of 2 or more Agents
* Includes coordinator or strategy-level Agent
* Task-specific composite structures
* Low reusability (tightly coupled)

Examples: ReportGenerationTeam, PolicyMatcherTeam

### 2.4 Tâ€‘Developer (Orchestrator)

* A meta-agent containing Planner, Classifier, Evaluator, etc.
* Accepts external service requests and assembles SaaS from internal components
* Functions as both SaaS generator and orchestrator

---

## 3. Classification Standard â€” Based on Number of "Brains"

| Structure | Brain Count | Reusability | Description                  |
| --------- | ----------- | ----------- | ---------------------------- |
| Tool      | 0           | Very High   | No decision logic            |
| Agent     | 1           | High        | Role-specific logic          |
| Team      | â‰¥2          | Low         | Collaborative decision logic |

**ClassifierAgent** analyzes Python files based on this logic structure.

### ðŸ§  ClassifierAgent Criteria

1. Analyze Python source via `ast` or LLM
2. Detect decision points (branching, LLM calls, role dispatching)
3. Classify based on number and coordination of logic units:

| Logic Structure                        | Classification  |
| -------------------------------------- | --------------- |
| No decision logic                      | Tool            |
| One logic branch                       | Agent           |
| â‰¥2 branches without internal routing   | Composite Agent |
| â‰¥2 branches with internal coordination | Team            |

4. Result is saved as metadata:

```json
{
  "name": "SummarizerAgent",
  "type": "agent",
  "brain_count": 1,
  "reusability": "high",
  "path": "s3://tdev-codebase/agents/summarizer.py"
}
```

---

## 4. Execution Strategy (Minimizing LLM Usage)

1. Can it be composed from Tools only? â†’ Execute immediately (lowest cost)
2. Single Agent combination possible? â†’ Execute
3. Team structure required? â†’ PlannerAgent triggers advanced model (e.g., GPT-4o)
4. Still not solvable? â†’ Design new Agent or modify existing Agent

---

## 5. Workflow Handling

* Tâ€‘Developer supports native workflow definitions (Python, JSON, YAML)
* Can export to external orchestrators (e.g., Prefect, Airflow)
* PlannerAgent can generate or edit workflows dynamically

Workflow Example (JSON):

```json
{
  "steps": [
    {"agent": "SummarizerAgent"},
    {"agent": "S3UploaderAgent"}
  ]
}
```

### ðŸ§  Workflow Specification

```json
{
  "id": "report-flow-v1",
  "inputs": {
    "document": "string"
  },
  "steps": [
    {
      "id": "summarize",
      "agent": "SummarizerAgent",
      "input_from": "document",
      "output_to": "summary"
    },
    {
      "id": "upload",
      "agent": "S3UploaderAgent",
      "input_from": "summary",
      "output_to": "uploaded_url"
    }
  ],
  "outputs": {
    "result_url": "uploaded_url"
  }
}
```

* Each step is executed by a Tool or Agent
* `input_from` and `output_to` define data flow
* Workflow is stored versioned and re-executable

Executed by `WorkflowExecutorAgent`; may be generated by `PlannerAgent`

---

## 6. Storage Architecture

### 6.1 Definitions (S3 or Git)

| Component           | Storage             |
| ------------------- | ------------------- |
| Tool/Agent Code     | S3 / AgentStore     |
| Workflow Definition | S3 / Git / DynamoDB |
| Metadata            | DynamoDB            |

### 6.2 Runtime Instances

| Runtime Unit          | Location                          |
| --------------------- | --------------------------------- |
| Lambda Execution      | Deployed as Lambda function       |
| Container Execution   | ECS / EC2 / Docker                |
| Session State Storage | DynamoDB (session, context, logs) |
| Execution Logs        | CloudWatch Logs / S3 / LogStore   |

### 6.3 Example: Service Instance Metadata

```json
{
  "service_id": "policy-matcher-v1",
  "agents": ["ScraperAgent", "ClusterAgent", "ChatAgent"],
  "workflow": { "steps": [...] },
  "deployment": {
    "type": "lambda",
    "function_name": "policy-matcher"
  },
  "status": "active",
  "created_at": "2025-07-22T00:00:00Z"
}
```

---

## 7. Reusability Levels by Agent Class

Reusability decreases as the number of decision points (brains) increases. More brains = less generalization.

| Level | Structure Type    | Brain Count | Reusability | Description                     |
| ----- | ----------------- | ----------- | ----------- | ------------------------------- |
| A     | Tool              | 0           | Very High   | Universal building block        |
| B     | Agent             | 1           | High        | Single-role logic               |
| C     | Mini Team         | 2           | Medium      | Dual-role combo, reusable niche |
| D     | Full Team         | 3â€“4         | Low         | Specialized purpose structure   |
| E     | SaaS System Block | â‰¥5          | Very Low    | Full system, hard to reuse      |

> ClassifierAgent derives this classification; PlannerAgent uses it for optimal composition.

---

## 8. Summary

Tâ€‘Developer uses the number of decision units (brains) as its primary classification standard:

* Tool: pure function
* Agent: one decision
* Team: multiple decisions + coordination

Tâ€‘Developer:

* Classifies defined tools and agents
* Automatically assembles them to match a given purpose
* Executes complete SaaS workflows from reusable components

> It is a **modular AI SaaS generation platform** with automatic reasoning and assembly capabilities.
