# T‑Developer AutoAgentComposer Specification

The `AutoAgentComposer` is an agent that automatically designs and generates new role-specific agents based on natural language input or structured specifications. It produces agent definitions including tool combinations, I/O structure, decision logic, and Python class skeletons. It can also register the generated agent via integration with the `ClassifierAgent`.

---

## 1. Key Features

* Accepts functional descriptions or goals as input
* Automatically defines an agent that fits the described role
* Determines required tool combinations and metadata
* Generates Python class code with `@agent` decorator
* Can automatically save to the Agent Registry or local directory

---

## 2. Input Examples

### Form A: Prompt-based

```text
Create an agent that scans a QR image and returns the associated username.
```

### Form B: Structured specification

```json
{
  "goal": "Extract text from a PDF and summarize it",
  "input": "pdf_url",
  "tools": ["PDFExtractorTool", "GPTCallerTool"],
  "output": "summary"
}
```

---

## 3. Output Examples

### A. Agent Metadata

```json
{
  "name": "QRCodeResolverAgent",
  "type": "agent",
  "input": "image",
  "output": "username",
  "tools": ["QRCodeReaderTool", "UserDBLookupTool"]
}
```

### B. Generated Code (summary)

```python
@agent
def qr_resolver(image):
    qr_code = QRCodeReaderTool().run(image)
    user = UserDBLookupTool().run(qr_code)
    return user
```

---

## 4. Internal Processing Steps

```plaintext
1. Analyze input → extract goal, input, output, tool hints
2. Search or suggest required tools
3. Define I/O structure and decision flow
4. Generate Python code
5. Send to ClassifierAgent for classification and registration
```

---

## 5. Integrated Components

* AgentRegistry: Check for duplication, store metadata
* ClassifierAgent: Analyze number of brains, assign type
* Q-Developer or Kiro: For code refinement and deployment pipeline

---

## 6. Usage Modes

* Execute via CLI: `tdev generate agent`
* Automatically triggered by PlannerAgent when a missing role is detected
* GitHub Copilot or Q-Developer integration for automatic PR generation

---

## 7. Planned Enhancements

* Output both `.py` code and `.meta.json` files
* Option to include autogenerated test cases
* Option to choose decision logic type (rule-based vs LLM-based)
* Enable improvement loop via integration with `tdev refine`

---

AutoAgentComposer serves as both a generation engine and design pipeline for producing reusable agents, enhancing T
