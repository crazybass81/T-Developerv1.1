# T‑Developer EvaluatorAgent Specification

The `EvaluatorAgent` is responsible for evaluating workflows, agents, or SaaS instances generated by the PlannerAgent or WorkflowExecutorAgent. It provides quality feedback and improvement suggestions by analyzing quality standards, execution results, response structure, and performance.

---

## 1. Core Responsibilities

* Evaluate workflows or execution results
* Generate scores or qualitative feedback based on defined criteria
* Automatically identify areas for improvement
* Enable improvement loops with the PlannerAgent

---

## 2. Evaluation Targets

| Target                    | Description                                        |
| ------------------------- | -------------------------------------------------- |
| Workflow Definition       | Agent sequence, I/O structure, loops, consistency  |
| Execution Results         | Quality of generated outputs (e.g., summarization) |
| Response Time & Stability | Delays, errors, exceptions                         |
| Reusability Rating        | Based on component tier classification (A–E)       |

---

## 3. Input Example

```json
{
  "workflow_id": "summarize-flow-v1",
  "result": "This is the summarized output...",
  "trace": [
    {"step": "summarize", "status": "success", "duration_ms": 3210 }
  ]
}
```

or:

```json
{
  "agent_id": "TranslatorAgent",
  "code_path": "s3://.../translator.py"
}
```

---

## 4. Output Example

```json
{
  "score": 82,
  "grade": "B+",
  "feedback": "Agent composition is appropriate, but input schema is not standardized, reducing reusability.",
  "suggestions": [
    "Modify SummarizerAgent to return JSON format output",
    "Clarify key mappings when connecting to ClusterAgent"
  ]
}
```

---

## 5. Internal Evaluation Flow

```plaintext
1. Detect target type (workflow / agent / result)
2. Load from AgentRegistry and workflow definition
3. Compute reusability and complexity scores
4. (Optional) Analyze execution quality
5. Generate final score and feedback → return to Planner or user
```

---

## 6. Usage Scenarios

* Independently executed via `tdev evaluate` command
* Triggered by PlannerAgent immediately after workflow generation
* Can initiate an improvement loop upon completion

---

## 7. Planned Extensions

* Customizable grading rubrics: e.g., lightweight vs safety-first
* Convert feedback into Git PR comments automatically
* Push evaluation results to external systems (e.g., Slack)

---

EvaluatorAgent is the quality control backbone of T‑Developer and the foundation for automating structural and behavioral SaaS improvement loops.
